<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Formulaire de Réservation</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="style.css">
</head>
<body class="container py-5">
  <h1>Formulaire de Réservation</h1>
  <form id="reservationForm">
    <div class="mb-3">
      <label for="nom" class="form-label">Nom du client</label>
      <input type="text" class="form-control" id="nom" name="nom" required>
    </div>
    <div class="mb-3">
      <label for="prenom" class="form-label">Prénom du client</label>
      <input type="text" class="form-control" id="prenom" name="prenom" required>
    </div>
    <div class="mb-3">
      <label for="telephone" class="form-label">Téléphone</label>
      <input type="tel" class="form-control" id="telephone" name="telephone" required>
    </div>
    <div class="mb-3">
      <label for="enseigne" class="form-label">Enseigne</label>
      <input type="text" class="form-control" id="enseigne" name="enseigne" required>
    </div>
    <div class="mb-3">
      <label for="adresse_remplacement" class="form-label">Adresse du lieu de remplacement</label>
      <input type="text" class="form-control" id="adresse_remplacement" name="adresse_remplacement" required>
    </div>
    <div class="mb-3">
      <label for="societe" class="form-label">Nom de la société à facturer</label>
      <input type="text" class="form-control" id="societe" name="societe" required>
    </div>
    <div class="mb-3">
      <label for="adresse_facturation" class="form-label">Adresse de facturation</label>
      <input type="text" class="form-control" id="adresse_facturation" name="adresse_facturation" required>
    </div>
    <div class="mb-3">
      <label for="tva" class="form-label">Numéro de TVA intracommunautaire</label>
      <input type="text" class="form-control" id="tva" name="tva">
    </div>
    <div class="mb-3">
      <label for="siret" class="form-label">SIRET</label>
      <input type="text" class="form-control" id="siret" name="siret">
    </div>
    <button type="submit" class="btn btn-primary">Envoyer</button>
  </form>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
document.getElementById('reservationForm').onsubmit = async function(e) {
  e.preventDefault();
  const data = {
    nom_client: document.getElementById('nom').value,
    prenom_client: document.getElementById('prenom').value,
    telephone_client: document.getElementById('telephone').value,
    enseigne: document.getElementById('enseigne').value,
    adresse_remplacement: document.getElementById('adresse_remplacement').value,
    societe_a_facturer: document.getElementById('societe').value,
    adresse_facturation: document.getElementById('adresse_facturation').value,
    numero_tva: document.getElementById('tva').value,
    siret: document.getElementById('siret').value
  };
  const res = await fetch('/api/reservations', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify(data)
  });
  if(res.ok) alert('Réservation enregistrée !');
  else alert('Erreur lors de la réservation.');
}
</script>

</body>
</html>
